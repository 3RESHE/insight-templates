<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Company Profile - INSIGHT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.sheetjs.com/xlsx-latest/xlsx.full.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              primary: "#475569",
              secondary: "#6B7280",
              accent: "#F59E0B",
              neutral1: "#F9FAFB",
              neutral2: "#E5E7EB",
              neutral3: "#374151",
              danger: "#DC2626",
              warning: "#F59E0B",
              info: "#475569",
            },
          },
        },
      };
    </script>
    <style>
      .status-active {
        background-color: #475569;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-warning {
        background-color: #f59e0b;
        color: black;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-danger {
        background-color: #dc2626;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-within-limit {
        background-color: #059669;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-approaching-limit {
        background-color: #f59e0b;
        color: black;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-exceeded {
        background-color: #dc2626;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .status-archived {
        background-color: #6b7280;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .role-admin {
        background-color: #475569;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .role-auditor {
        background-color: #6b7280;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .role-investigation {
        background-color: #f59e0b;
        color: black;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .sidebar-collapsed {
        transform: translateX(-100%);
      }
      @media (min-width: 768px) {
        .sidebar-collapsed {
          transform: translateX(0);
        }
      }
      .tab-active {
        background-color: #475569;
        color: white;
      }
      .tab-inactive {
        background-color: #e5e7eb;
        color: #374151;
      }
      .file-type-pdf {
        background-color: #dc2626;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .file-type-xlsx {
        background-color: #059669;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .file-type-docx {
        background-color: #475569;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
      .file-type-other {
        background-color: #6b7280;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 0.375rem;
      }
    </style>
  </head>
  <body class="bg-neutral1 text-neutral3 font-sans">
    <!-- Top Navigation -->
    <nav
      class="bg-white border-b border-neutral2 fixed top-0 left-0 right-0 z-50 h-16 shadow-sm"
    >
      <div
        class="flex items-center justify-between h-full px-4 max-w-7xl mx-auto"
      >
        <div class="flex items-center space-x-4">
          <button
            id="sidebar-toggle"
            class="md:hidden p-2 rounded-lg hover:bg-neutral2"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"
              ></path>
            </svg>
          </button>
          <div class="flex items-center space-x-3">
            <div
              class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center"
            >
              <span class="text-white font-bold text-sm">I</span>
            </div>
            <h1 class="text-xl font-semibold">INSIGHT</h1>
            <span class="text-sm hidden sm:block"
              >Investigation & Compliance</span
            >
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <div class="relative hidden md:block">
            <input
              type="text"
              id="global-search"
              placeholder="Search..."
              class="bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 pl-10 w-64 focus:outline-none focus:ring-2 focus:ring-primary"
            />
            <svg
              class="w-4 h-4 absolute left-3 top-3 text-neutral3"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
              ></path>
            </svg>
          </div>
          <div class="relative">
            <button
              id="user-menu-button"
              class="flex items-center space-x-2 p-2 rounded-lg hover:bg-neutral2"
            >
              <div
                class="w-8 h-8 bg-primary rounded-full flex items-center justify-center"
              >
                <span class="text-white text-sm font-medium" id="user-initials"
                  >AD</span
                >
              </div>
              <span class="hidden sm:block text-sm" id="user-name"
                >Admin User</span
              >
              <svg
                class="w-4 h-4"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                ></path>
              </svg>
            </button>
            <div
              id="user-menu"
              class="hidden absolute right-0 mt-2 w-48 bg-white border border-neutral2 rounded-lg shadow-lg"
            >
              <a href="#" class="block px-4 py-2 text-sm hover:bg-neutral2"
                >Profile</a
              >
              <a href="#" class="block px-4 py-2 text-sm hover:bg-neutral2"
                >Settings</a
              >
              <hr class="border-neutral2" />
              <a
                href="#"
                class="block px-4 py-2 text-sm hover:bg-neutral2 text-danger"
                >Logout</a
              >
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Sidebar -->
    <aside
      id="sidebar"
      class="fixed left-0 top-16 bottom-0 w-64 bg-white border-r border-neutral2 transform transition-transform duration-300 z-40"
    >
      <nav class="p-4 space-y-1">
        <a
          href="index.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2 2z M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"
            ></path>
          </svg>
          <span>Dashboard</span>
        </a>
        <a
          href="companies.html"
          class="flex items-center space-x-3 p-3 rounded-lg bg-primary text-white"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"
            ></path>
          </svg>
          <span>Companies</span>
        </a>
        <a
          href="licenses.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          <span>Licenses</span>
        </a>
        <a
          href="compliance.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"
            ></path>
          </svg>
          <span>Compliance Reports</span>
        </a>
        <a
          href="utilizations.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
            ></path>
          </svg>
          <span>Utilizations</span>
        </a>
        <a
          href="alerts.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 17h5l-5 5v-5z M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
          <span>Alerts</span>
        </a>
        <a
          href="investigations.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
            ></path>
          </svg>
          <span>Investigations</span>
        </a>
        <a
          href="documents.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
            ></path>
          </svg>
          <span>Documents</span>
        </a>
        <a
          href="reports.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
            ></path>
          </svg>
          <span>Reports</span>
        </a>
        <a
          href="users.html"
          class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral2 text-neutral3"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"
            ></path>
          </svg>
          <span>Users/Admin</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main
      id="main-content"
      class="ml-0 md:ml-64 mt-16 transition-all duration-300 p-6 max-w-7xl mx-auto"
    >
      <div class="flex justify-between items-center mb-8">
        <div>
          <h2 class="text-2xl font-semibold">Company Profile</h2>
          <p class="text-sm">Details for TechCorp Industries</p>
        </div>
        <button
          id="edit-company-btn"
          class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg flex items-center space-x-2"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
            ></path>
          </svg>
          <span>Edit Company</span>
        </button>
      </div>

      <!-- Company Overview -->
      <div class="bg-white border border-neutral2 rounded-lg p-6 mb-8">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <h3 class="text-lg font-medium mb-4">Company Information</h3>
            <div class="space-y-2">
              <p><span class="font-medium">Name:</span> TechCorp Industries</p>
              <p>
                <span class="font-medium">Registration Number:</span>
                REG-2024-001
              </p>
              <p><span class="font-medium">Industry:</span> Technology</p>
              <p>
                <span class="font-medium">Status:</span>
                <span class="status-active">Active</span>
              </p>
            </div>
          </div>
          <div>
            <h3 class="text-lg font-medium mb-4">Contact Details</h3>
            <div class="space-y-2">
              <p><span class="font-medium">Email:</span> tech@techcorp.com</p>
              <p><span class="font-medium">Phone:</span> +63 912 345 6789</p>
              <p>
                <span class="font-medium">Address:</span> 123 Tech Park, Manila,
                Philippines
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="bg-white border border-neutral2 rounded-lg overflow-hidden">
        <div class="flex border-b border-neutral2">
          <button
            class="tab-btn tab-active px-6 py-3 font-medium rounded-t-lg"
            data-tab="licenses"
          >
            Licenses
          </button>
          <button
            class="tab-btn tab-inactive px-6 py-3 font-medium rounded-t-lg"
            data-tab="compliance"
          >
            Compliance Reports
          </button>
          <button
            class="tab-btn tab-inactive px-6 py-3 font-medium rounded-t-lg"
            data-tab="utilizations"
          >
            Utilizations
          </button>
          <button
            class="tab-btn tab-inactive px-6 py-3 font-medium rounded-t-lg"
            data-tab="alerts"
          >
            Alerts
          </button>
          <button
            class="tab-btn tab-inactive px-6 py-3 font-medium rounded-t-lg"
            data-tab="documents"
          >
            Documents
          </button>
        </div>
        <!-- Licenses Tab -->
        <div id="licenses" class="tab-content p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Licenses</h3>
            <button
              id="add-license-btn"
              class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg flex items-center space-x-2"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                ></path>
              </svg>
              <span>Add License</span>
            </button>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full" id="licenses-table">
              <thead class="bg-neutral2 border-b border-neutral2">
                <tr>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('licenses-table', 0)"
                  >
                    License ID
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('licenses-table', 1)"
                  >
                    Authorization
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('licenses-table', 2, 'date')"
                  >
                    Issue Date
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('licenses-table', 3, 'date')"
                  >
                    Expiry Date
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('licenses-table', 4)"
                  >
                    Status
                  </th>
                  <th class="text-left p-4 font-medium">Actions</th>
                </tr>
              </thead>
              <tbody id="licenses-table-body">
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">LIC-2024-001</td>
                  <td class="p-4">Individual Authorization</td>
                  <td class="p-4">2024-01-10</td>
                  <td class="p-4">2026-01-10</td>
                  <td class="p-4"><span class="status-active">Active</span></td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-license="LIC-2024-001"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">LIC-2024-002</td>
                  <td class="p-4">Global Authorization</td>
                  <td class="p-4">2024-02-15</td>
                  <td class="p-4">2029-02-15</td>
                  <td class="p-4"><span class="status-active">Active</span></td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-license="LIC-2024-002"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="licenses-table-pagination"
            class="flex items-center justify-between p-4 border-t border-neutral2"
          ></div>
        </div>
        <!-- Compliance Reports Tab -->
        <div id="compliance" class="tab-content hidden p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Compliance Reports</h3>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full" id="compliance-table">
              <thead class="bg-neutral2 border-b border-neutral2">
                <tr>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('compliance-table', 0)"
                  >
                    Report ID
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('compliance-table', 1)"
                  >
                    Type
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('compliance-table', 2, 'date')"
                  >
                    Due Date
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('compliance-table', 3)"
                  >
                    Status
                  </th>
                  <th class="text-left p-4 font-medium">Actions</th>
                </tr>
              </thead>
              <tbody id="compliance-table-body">
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">REP-2024-001</td>
                  <td class="p-4">Q3 Compliance</td>
                  <td class="p-4">2024-09-30</td>
                  <td class="p-4">
                    <span class="status-danger">Overdue</span>
                  </td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-report="REP-2024-001"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="compliance-table-pagination"
            class="flex items-center justify-between p-4 border-t border-neutral2"
          ></div>
        </div>
        <!-- Utilizations Tab -->
        <div id="utilizations" class="tab-content hidden p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Utilizations</h3>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full" id="utilizations-table">
              <thead class="bg-neutral2 border-b border-neutral2">
                <tr>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 0)"
                  >
                    Utilization ID
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 1)"
                  >
                    License ID
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 2)"
                  >
                    Resource Type
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 3, 'number')"
                  >
                    Quantity Limit
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 4, 'number')"
                  >
                    Total Quantity
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 5, 'date')"
                  >
                    Date Recorded
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('utilizations-table', 6)"
                  >
                    Status
                  </th>
                  <th class="text-left p-4 font-medium">Actions</th>
                </tr>
              </thead>
              <tbody id="utilizations-table-body">
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">UTL-2024-001</td>
                  <td class="p-4 font-mono">LIC-2024-001</td>
                  <td class="p-4">Water</td>
                  <td class="p-4">2000 m³</td>
                  <td class="p-4">1500 m³</td>
                  <td class="p-4">2024-08-01</td>
                  <td class="p-4">
                    <span class="status-within-limit">Within Limit</span>
                  </td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-utilization="UTL-2024-001"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">UTL-2024-002</td>
                  <td class="p-4 font-mono">LIC-2024-001</td>
                  <td class="p-4">Energy</td>
                  <td class="p-4">5000 kWh</td>
                  <td class="p-4">4800 kWh</td>
                  <td class="p-4">2024-08-15</td>
                  <td class="p-4">
                    <span class="status-approaching-limit"
                      >Approaching Limit</span
                    >
                  </td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-utilization="UTL-2024-002"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">UTL-2024-003</td>
                  <td class="p-4 font-mono">LIC-2024-002</td>
                  <td class="p-4">Materials</td>
                  <td class="p-4">1000 kg</td>
                  <td class="p-4">1200 kg</td>
                  <td class="p-4">2024-09-01</td>
                  <td class="p-4">
                    <span class="status-exceeded">Exceeded</span>
                  </td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-utilization="UTL-2024-003"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="utilizations-table-pagination"
            class="flex items-center justify-between p-4 border-t border-neutral2"
          ></div>
        </div>
        <!-- Alerts Tab -->
        <div id="alerts" class="tab-content hidden p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Alerts</h3>
            <select
              id="alert-filter"
              class="bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
            >
              <option value="all">All Severities</option>
              <option value="high">High</option>
              <option value="medium">Medium</option>
              <option value="low">Low</option>
            </select>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full" id="alerts-table">
              <thead class="bg-neutral2 border-b border-neutral2">
                <tr>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('alerts-table', 0)"
                  >
                    Type
                  </th>
                  <th class="text-left p-4 font-medium">Details</th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('alerts-table', 2)"
                  >
                    Severity
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('alerts-table', 3, 'date')"
                  >
                    Date
                  </th>
                  <th class="text-left p-4 font-medium">Actions</th>
                </tr>
              </thead>
              <tbody id="alerts-table-body">
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4">Overdue Report</td>
                  <td class="p-4">Q3 Compliance Report overdue</td>
                  <td class="p-4"><span class="status-danger">High</span></td>
                  <td class="p-4">2025-09-15</td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-alert="ALERT-2024-001"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4">License Expiring</td>
                  <td class="p-4">License LIC-2024-001 expires in 90 days</td>
                  <td class="p-4">
                    <span class="status-warning">Medium</span>
                  </td>
                  <td class="p-4">2025-09-14</td>
                  <td class="p-4">
                    <button
                      class="view-btn text-primary hover:text-primary/80 p-1"
                      data-alert="ALERT-2024-002"
                      title="View"
                    >
                      <svg
                        class="w-4 h-4"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                        ></path>
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                        ></path>
                      </svg>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="alerts-table-pagination"
            class="flex items-center justify-between p-4 border-t border-neutral2"
          ></div>
        </div>
        <!-- Documents Tab -->
        <div id="documents" class="tab-content hidden p-6">
          <div class="flex justify-between items-center mb-4">
            <h3 class="text-lg font-medium">Documents</h3>
            <button
              id="upload-document-btn"
              class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg flex items-center space-x-2"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6v6m0 0v6m0-6h6m-6 0H6"
                ></path>
              </svg>
              <span>Upload Document</span>
            </button>
          </div>
          <div class="mb-4 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium mb-2">File Type</label>
              <select
                id="file-type-filter"
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="all">All File Types</option>
                <option value="PDF">PDF</option>
                <option value="XLSX">XLSX</option>
                <option value="DOCX">DOCX</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Date Range</label>
              <input
                type="date"
                id="date-filter"
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>
          </div>
          <div class="overflow-x-auto">
            <table class="w-full" id="documents-table">
              <thead class="bg-neutral2 border-b border-neutral2">
                <tr>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 0)"
                  >
                    Document ID
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 1)"
                  >
                    Title
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 2)"
                  >
                    Related To
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 3)"
                  >
                    File Type
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 4)"
                  >
                    Uploaded By
                  </th>
                  <th
                    class="text-left p-4 font-medium cursor-pointer"
                    onclick="sortTable('documents-table', 5, 'date')"
                  >
                    Upload Date
                  </th>
                  <th class="text-left p-4 font-medium">Actions</th>
                </tr>
              </thead>
              <tbody id="documents-table-body">
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">DOC-2024-001</td>
                  <td class="p-4">Q3 Compliance Report</td>
                  <td class="p-4 font-mono">REP-2024-001</td>
                  <td class="p-4"><span class="file-type-pdf">PDF</span></td>
                  <td class="p-4">Admin User</td>
                  <td class="p-4">2024-09-01</td>
                  <td class="p-4">
                    <div class="flex space-x-2">
                      <button
                        class="view-btn text-primary hover:text-primary/80 p-1"
                        data-document="DOC-2024-001"
                        title="View"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                          ></path>
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="download-btn text-accent hover:text-accent/80 p-1"
                        data-document="DOC-2024-001"
                        title="Download"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="delete-btn text-danger hover:text-danger/80 p-1"
                        data-document="DOC-2024-001"
                        title="Delete"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">DOC-2024-002</td>
                  <td class="p-4">License Agreement</td>
                  <td class="p-4 font-mono">LIC-2024-001</td>
                  <td class="p-4"><span class="file-type-pdf">PDF</span></td>
                  <td class="p-4">Admin User</td>
                  <td class="p-4">2024-01-15</td>
                  <td class="p-4">
                    <div class="flex space-x-2">
                      <button
                        class="view-btn text-primary hover:text-primary/80 p-1"
                        data-document="DOC-2024-002"
                        title="View"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                          ></path>
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="download-btn text-accent hover:text-accent/80 p-1"
                        data-document="DOC-2024-002"
                        title="Download"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="delete-btn text-danger hover:text-danger/80 p-1"
                        data-document="DOC-2024-002"
                        title="Delete"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
                <tr class="border-b border-neutral2 hover:bg-neutral2/50">
                  <td class="p-4 font-mono">DOC-2024-003</td>
                  <td class="p-4">Annual Audit Report</td>
                  <td class="p-4 font-mono">-</td>
                  <td class="p-4"><span class="file-type-xlsx">XLSX</span></td>
                  <td class="p-4">Auditor User</td>
                  <td class="p-4">2024-03-20</td>
                  <td class="p-4">
                    <div class="flex space-x-2">
                      <button
                        class="view-btn text-primary hover:text-primary/80 p-1"
                        data-document="DOC-2024-003"
                        title="View"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                          ></path>
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="download-btn text-accent hover:text-accent/80 p-1"
                        data-document="DOC-2024-003"
                        title="Download"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"
                          ></path>
                        </svg>
                      </button>
                      <button
                        class="delete-btn text-danger hover:text-danger/80 p-1"
                        data-document="DOC-2024-003"
                        title="Delete"
                      >
                        <svg
                          class="w-4 h-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4"
                          ></path>
                        </svg>
                      </button>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div
            id="documents-table-pagination"
            class="flex items-center justify-between p-4 border-t border-neutral2"
          ></div>
        </div>
      </div>
    </main>

    <!-- Edit Company Modal -->
    <div
      id="edit-company-modal"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50"
    >
      <div class="flex items-center justify-center min-h-screen p-4">
        <div
          class="bg-white border border-neutral2 rounded-lg w-full max-w-2xl"
        >
          <div
            class="flex items-center justify-between p-6 border-b border-neutral2"
          >
            <h3 class="text-xl font-semibold">Edit Company</h3>
            <button
              id="close-edit-modal"
              class="text-neutral3 hover:text-neutral3/80"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
          <form id="edit-company-form" class="p-6 space-y-4">
            <input type="hidden" id="edit-reg-number" value="REG-2024-001" />
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2"
                  >Company Name</label
                >
                <input
                  type="text"
                  id="edit-company-name"
                  value="TechCorp Industries"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2"
                  >Registration Number</label
                >
                <input
                  type="text"
                  id="edit-reg-number-display"
                  value="REG-2024-001"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                  readonly
                />
              </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2">Industry</label>
                <select
                  id="edit-company-industry"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                >
                  <option value="">Select Industry</option>
                  <option value="Mining">Mining</option>
                  <option value="Manufacturing">Manufacturing</option>
                  <option value="Technology" selected>Technology</option>
                  <option value="Energy">Energy</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium mb-2">Status</label>
                <select
                  id="edit-company-status"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                >
                  <option value="">Select Status</option>
                  <option value="Active" selected>Active</option>
                  <option value="Inactive">Inactive</option>
                  <option value="Suspended">Suspended</option>
                </select>
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Email</label>
              <input
                type="email"
                id="edit-company-email"
                value="tech@techcorp.com"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Address</label>
              <textarea
                id="edit-company-address"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                rows="3"
              >
123 Tech Park, Manila, Philippines</textarea
              >
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Phone</label>
              <input
                type="tel"
                id="edit-company-phone"
                value="+63 912 345 6789"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>
            <div class="flex justify-end space-x-4 pt-4">
              <button
                type="button"
                id="cancel-edit-btn"
                class="px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg"
              >
                Update Company
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Add License Modal -->
    <div
      id="add-license-modal"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50"
    >
      <div class="flex items-center justify-center min-h-screen p-4">
        <div
          class="bg-white border border-neutral2 rounded-lg w-full max-w-2xl"
        >
          <div
            class="flex items-center justify-between p-6 border-b border-neutral2"
          >
            <h3 class="text-xl font-semibold">Add New License</h3>
            <button
              id="close-add-license-modal"
              class="text-neutral3 hover:text-neutral3/80"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
          <form id="add-license-form" class="p-6 space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2">License ID</label>
              <input
                type="text"
                id="license-id"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                placeholder="LIC-YYYY-XXX"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2"
                >Authorization</label
              >
              <select
                id="license-authorization"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Select Authorization</option>
                <option value="Individual Authorization">
                  Individual Authorization
                </option>
                <option value="Global Authorization">
                  Global Authorization
                </option>
                <option value="General Authorization">
                  General Authorization
                </option>
              </select>
            </div>
            <div
              id="authorization-details"
              class="bg-neutral2 p-4 rounded-lg text-sm hidden"
            >
              <p id="authorization-details-text"></p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium mb-2">Issue Date</label>
                <input
                  type="date"
                  id="license-issue-date"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
              <div>
                <label class="block text-sm font-medium mb-2"
                  >Expiry Date</label
                >
                <input
                  type="date"
                  id="license-expiry-date"
                  required
                  class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                />
              </div>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Status</label>
              <select
                id="license-status"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Select Status</option>
                <option value="Active">Active</option>
                <option value="Expiring Soon">Expiring Soon</option>
                <option value="Expired">Expired</option>
              </select>
            </div>
            <div class="flex justify-end space-x-4 pt-4">
              <button
                type="button"
                id="cancel-add-license-btn"
                class="px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg"
              >
                Add License
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Upload Document Modal -->
    <div
      id="upload-document-modal"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50"
    >
      <div class="flex items-center justify-center min-h-screen p-4">
        <div
          class="bg-white border border-neutral2 rounded-lg w-full max-w-2xl"
        >
          <div
            class="flex items-center justify-between p-6 border-b border-neutral2"
          >
            <h3 class="text-xl font-semibold">Upload New Document</h3>
            <button
              id="close-upload-document-modal"
              class="text-neutral3 hover:text-neutral3/80"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
          <form id="upload-document-form" class="p-6 space-y-4">
            <div>
              <label class="block text-sm font-medium mb-2"
                >Document Title</label
              >
              <input
                type="text"
                id="document-title"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
                placeholder="Enter document title"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">Related To</label>
              <select
                id="document-related-to"
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">None</option>
                <option value="license">License</option>
                <option value="report">Compliance Report</option>
                <option value="utilization">Utilization</option>
              </select>
            </div>
            <div id="related-entity-container" class="hidden">
              <label class="block text-sm font-medium mb-2"
                >Select Related Entity</label
              >
              <select
                id="related-entity"
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Select Entity</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">File</label>
              <input
                type="file"
                id="document-file"
                required
                accept=".pdf,.docx,.xlsx"
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              />
            </div>
            <div>
              <label class="block text-sm font-medium mb-2">File Type</label>
              <select
                id="document-file-type"
                required
                class="w-full bg-neutral2 border border-neutral2 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary"
              >
                <option value="">Select File Type</option>
                <option value="PDF">PDF</option>
                <option value="XLSX">XLSX</option>
                <option value="DOCX">DOCX</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div class="flex justify-end space-x-4 pt-4">
              <button
                type="button"
                id="cancel-upload-document-btn"
                class="px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2"
              >
                Cancel
              </button>
              <button
                type="submit"
                class="px-4 py-2 bg-primary hover:bg-primary/90 text-white rounded-lg"
              >
                Upload Document
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Delete Document Modal -->
    <div
      id="delete-document-modal"
      class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50"
    >
      <div class="flex items-center justify-center min-h-screen p-4">
        <div class="bg-white border border-neutral2 rounded-lg w-full max-w-md">
          <div
            class="flex items-center justify-between p-6 border-b border-neutral2"
          >
            <h3 class="text-xl font-semibold">Delete Document</h3>
            <button
              id="close-delete-document-modal"
              class="text-neutral3 hover:text-neutral3/80"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M6 18L18 6M6 6l12 12"
                ></path>
              </svg>
            </button>
          </div>
          <div class="p-6">
            <p class="mb-4">
              Are you sure you want to delete document
              <span id="delete-document-id" class="font-mono"></span>?
            </p>
            <div class="flex justify-end space-x-4">
              <button
                id="cancel-delete-document-btn"
                class="px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2"
              >
                Cancel
              </button>
              <button
                id="confirm-delete-document-btn"
                class="px-4 py-2 bg-danger hover:bg-danger/90 text-white rounded-lg"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const documentsData = [
        {
          id: "DOC-2024-001",
          title: "Q3 Compliance Report",
          relatedTo: "REP-2024-001",
          fileType: "PDF",
          uploadedBy: "Admin User",
          uploadDate: "2024-09-01",
        },
        {
          id: "DOC-2024-002",
          title: "License Agreement",
          relatedTo: "LIC-2024-001",
          fileType: "PDF",
          uploadedBy: "Admin User",
          uploadDate: "2024-01-15",
        },
        {
          id: "DOC-2024-003",
          title: "Annual Audit Report",
          relatedTo: "-",
          fileType: "XLSX",
          uploadedBy: "Auditor User",
          uploadDate: "2024-03-20",
        },
      ];

      const relatedEntities = {
        license: [
          { id: "LIC-2024-001", name: "Individual Authorization" },
          { id: "LIC-2024-002", name: "Global Authorization" },
        ],
        report: [{ id: "REP-2024-001", name: "Q3 Compliance" }],
        utilization: [
          { id: "UTL-2024-001", name: "Water" },
          { id: "UTL-2024-002", name: "Energy" },
          { id: "UTL-2024-003", name: "Materials" },
        ],
      };

      // Toggle sidebar
      document
        .getElementById("sidebar-toggle")
        .addEventListener("click", () => {
          document
            .getElementById("sidebar")
            .classList.toggle("sidebar-collapsed");
        });

      // Toggle user menu
      document
        .getElementById("user-menu-button")
        .addEventListener("click", () => {
          document.getElementById("user-menu").classList.toggle("hidden");
        });

      // Tab switching
      document.querySelectorAll(".tab-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          document.querySelectorAll(".tab-btn").forEach((b) => {
            b.classList.remove("tab-active");
            b.classList.add("tab-inactive");
          });
          btn.classList.remove("tab-inactive");
          btn.classList.add("tab-active");
          document
            .querySelectorAll(".tab-content")
            .forEach((c) => c.classList.add("hidden"));
          document.getElementById(btn.dataset.tab).classList.remove("hidden");
        });
      });

      // Modal handling
      const modals = {
        "edit-company": {
          open: "edit-company-btn",
          close: ["close-edit-modal", "cancel-edit-btn"],
          form: "edit-company-form",
        },
        "add-license": {
          open: "add-license-btn",
          close: ["close-add-license-modal", "cancel-add-license-btn"],
          form: "add-license-form",
        },
        "upload-document": {
          open: "upload-document-btn",
          close: ["close-upload-document-modal", "cancel-upload-document-btn"],
          form: "upload-document-form",
        },
        "delete-document": {
          close: ["close-delete-document-modal", "cancel-delete-document-btn"],
        },
      };

      Object.entries(modals).forEach(([modalId, { open, close, form }]) => {
        const modal = document.getElementById(`${modalId}-modal`);
        if (open)
          document
            .getElementById(open)
            .addEventListener("click", () => modal.classList.remove("hidden"));
        close?.forEach((id) =>
          document
            .getElementById(id)
            .addEventListener("click", () => modal.classList.add("hidden"))
        );
        if (form) {
          document.getElementById(form).addEventListener("submit", (e) => {
            e.preventDefault();
            console.log(`${modalId} form submitted`);
            modal.classList.add("hidden");
          });
        }
      });

      // License authorization details
      document
        .getElementById("license-authorization")
        .addEventListener("change", (e) => {
          const details = document.getElementById("authorization-details");
          const text = document.getElementById("authorization-details-text");
          if (e.target.value) {
            details.classList.remove("hidden");
            text.textContent = `Details for ${e.target.value}`;
          } else {
            details.classList.add("hidden");
          }
        });

      // Document related entity dropdown
      document
        .getElementById("document-related-to")
        .addEventListener("change", (e) => {
          const container = document.getElementById("related-entity-container");
          const select = document.getElementById("related-entity");
          container.classList.add("hidden");
          select.innerHTML = '<option value="">Select Entity</option>';
          if (e.target.value) {
            relatedEntities[e.target.value]?.forEach((entity) => {
              const option = document.createElement("option");
              option.value = entity.id;
              option.textContent = `${entity.id} - ${entity.name}`;
              select.appendChild(option);
            });
            container.classList.remove("hidden");
          }
        });

      // Document table actions
      document
        .getElementById("documents-table-body")
        .addEventListener("click", (e) => {
          const btn = e.target.closest("button");
          if (!btn) return;
          const docId = btn.dataset.document;
          if (btn.classList.contains("view-btn")) {
            console.log(`View document ${docId}`);
          } else if (btn.classList.contains("download-btn")) {
            console.log(`Download document ${docId}`);
          } else if (btn.classList.contains("delete-btn")) {
            document.getElementById("delete-document-id").textContent = docId;
            document
              .getElementById("delete-document-modal")
              .classList.remove("hidden");
          }
        });

      // Delete document confirmation
      document
        .getElementById("confirm-delete-document-btn")
        .addEventListener("click", () => {
          const docId =
            document.getElementById("delete-document-id").textContent;
          console.log(`Deleting document ${docId}`);
          document
            .getElementById("delete-document-modal")
            .classList.add("hidden");
        });

      // Sort table
      function sortTable(tableId, columnIndex, type = "string") {
        const table = document.getElementById(tableId);
        const tbody = table.querySelector("tbody");
        const rows = Array.from(tbody.querySelectorAll("tr"));
        const isAscending = table.dataset.sortDirection !== "asc";
        table.dataset.sortDirection = isAscending ? "asc" : "desc";

        rows.sort((a, b) => {
          let aValue = a.children[columnIndex].textContent.trim();
          let bValue = b.children[columnIndex].textContent.trim();
          if (type === "date") {
            aValue = new Date(aValue);
            bValue = new Date(bValue);
          } else if (type === "number") {
            aValue = parseFloat(aValue.replace(/[^0-9.-]+/g, ""));
            bValue = parseFloat(bValue.replace(/[^0-9.-]+/g, ""));
          }
          return isAscending
            ? aValue < bValue
              ? -1
              : aValue > bValue
              ? 1
              : 0
            : aValue < bValue
            ? 1
            : aValue > bValue
            ? -1
            : 0;
        });

        tbody.innerHTML = "";
        rows.forEach((row) => tbody.appendChild(row));
      }

      // Pagination
      function setupPagination(tableId, rowsPerPage = 10) {
        const table = document.getElementById(tableId);
        const tbody = table.querySelector("tbody");
        const pagination = document.getElementById(`${tableId}-pagination`);
        const rows = Array.from(tbody.querySelectorAll("tr"));
        let currentPage = 1;

        function displayRows() {
          const start = (currentPage - 1) * rowsPerPage;
          const end = start + rowsPerPage;
          rows.forEach((row, index) => {
            row.style.display = index >= start && index < end ? "" : "none";
          });

          pagination.innerHTML = "";
          const totalPages = Math.ceil(rows.length / rowsPerPage);
          const prevBtn = document.createElement("button");
          prevBtn.textContent = "Previous";
          prevBtn.className = `px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2 ${
            currentPage === 1 ? "opacity-50 cursor-not-allowed" : ""
          }`;
          prevBtn.disabled = currentPage === 1;
          prevBtn.addEventListener("click", () => {
            if (currentPage > 1) {
              currentPage--;
              displayRows();
            }
          });

          const nextBtn = document.createElement("button");
          nextBtn.textContent = "Next";
          nextBtn.className = `px-4 py-2 border border-neutral2 rounded-lg hover:bg-neutral2 ${
            currentPage === totalPages ? "opacity-50 cursor-not-allowed" : ""
          }`;
          nextBtn.disabled = currentPage === totalPages;
          nextBtn.addEventListener("click", () => {
            if (currentPage < totalPages) {
              currentPage++;
              displayRows();
            }
          });

          const pageInfo = document.createElement("span");
          pageInfo.textContent = `Page ${currentPage} of ${totalPages}`;
          pageInfo.className = "text-neutral3";

          pagination.appendChild(prevBtn);
          pagination.appendChild(pageInfo);
          pagination.appendChild(nextBtn);
        }

        if (rows.length > 0) displayRows();
      }

      // Document filtering
      function filterDocuments() {
        const fileType = document.getElementById("file-type-filter").value;
        const date = document.getElementById("date-filter").value;
        const tbody = document.getElementById("documents-table-body");
        tbody.innerHTML = "";

        const filteredDocuments = documentsData.filter((doc) => {
          const matchesFileType =
            fileType === "all" || doc.fileType === fileType;
          const matchesDate = date
            ? new Date(doc.uploadDate).toISOString().split("T")[0] === date
            : true;
          return matchesFileType && matchesDate;
        });

        filteredDocuments.forEach((doc) => {
          const row = document.createElement("tr");
          row.className = "border-b border-neutral2 hover:bg-neutral2/50";
          row.innerHTML = `
      <td class="p-4 font-mono">${doc.id}</td>
      <td class="p-4">${doc.title}</td>
      <td class="p-4 font-mono">${doc.relatedTo}</td>
      <td class="p-4"><span class="file-type-${doc.fileType.toLowerCase()}">${
            doc.fileType
          }</span></td>
      <td class="p-4">${doc.uploadedBy}</td>
      <td class="p-4">${doc.uploadDate}</td>
      <td class="p-4">
        <div class="flex space-x-2">
          <button class="view-btn text-primary hover:text-primary/80 p-1" data-document="${
            doc.id
          }" title="View">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
            </svg>
          </button>
          <button class="download-btn text-accent hover:text-accent/80 p-1" data-document="${
            doc.id
          }" title="Download">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
            </svg>
          </button>
          <button class="delete-btn text-danger hover:text-danger/80 p-1" data-document="${
            doc.id
          }" title="Delete">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4"></path>
            </svg>
          </button>
        </div>
      </td>
    `;
          tbody.appendChild(row);
        });

        setupPagination("documents-table");
      }

      document
        .getElementById("file-type-filter")
        .addEventListener("change", filterDocuments);
      document
        .getElementById("date-filter")
        .addEventListener("change", filterDocuments);

      // Initialize tables
      [
        "licenses-table",
        "compliance-table",
        "utilizations-table",
        "alerts-table",
        "documents-table",
      ].forEach((tableId) => setupPagination(tableId));
      filterDocuments();
    </script>
  </body>
</html>
